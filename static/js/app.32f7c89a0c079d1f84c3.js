webpackJsonp([1],{Invn:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=i("VU/8")({name:"App"},a,!1,function(e){i("nF9L")},null,null).exports,r=i("/ocq"),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-upload",{staticClass:"avatar-uploader",class:{avatarUploaderMimi:"mini"==e.size,disabled:e.fileList.length>=(e.imageCount?e.imageCount:1)},attrs:{action:e.uploadUrl,"file-list":e.fileList,name:"file","list-type":"picture-card","on-change":e.handleChange,"on-remove":e.handleRemove}},[i("div",{staticClass:"avatar-uploader-center"},[i("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.text,expression:"text"}],staticClass:"el-upload__tip"},[e._v(e._s(e.text))])])])},staticRenderFns:[]};var c={components:{UploadImg:i("VU/8")({name:"uploadImg",props:["imageUrl","imageCount","text","size"],data:function(){return{uploadUrl:"",fileList:[]}},created:function(){this.uploadUrl="",this.imageUrl&&this.imageUrl.length>0&&(this.fileList=this.imageUrl)},methods:{handleChange:function(e,t){this.fileList=t},handleRemove:function(e,t){this.fileList=t},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,i="image/jpg"===e.type,s="image/png"===e.type,a="image/gif"===e.type,l=e.size/1024<512;return l||this.$message.error("上传图片大小不能超过512k!"),(i||t||s||a)&&l},getUploadImage:function(){var e=void 0;return this.fileList.map(function(t){e=t.response?t.response.data:t.url}),e}}},n,!1,function(e){i("Invn")},null,null).exports},data:function(){return{skuTitle:[{pName:"图片"},{pName:"原价(元)"},{pName:"售价(元)"},{pName:"商家SKU编号"},{pName:""}],skuList:[],descartesArr1:[],descartesArr2:[],saleAttrList:[{label:"颜色",id:"1",attrList:[{label:"白色",pId:"1",id:"11",pName:"颜色",checkedValue:!1},{label:"黑色",pId:"1",id:"12",pName:"颜色",checkedValue:!1},{label:"紫色",pId:"1",id:"13",pName:"颜色",checkedValue:!1},{label:"红色",pId:"1",id:"14",pName:"颜色",checkedValue:!1},{label:"蓝色",pId:"1",id:"15",pName:"颜色",checkedValue:!1}]},{label:"尺寸",id:"2",attrList:[{label:"25",pId:"2",id:"21",pName:"尺寸",checkedValue:!1},{label:"26",pId:"2",id:"22",pName:"尺寸",checkedValue:!1},{label:"27",pId:"2",id:"23",pName:"尺寸",checkedValue:!1},{label:"28",pId:"2",id:"24",pName:"尺寸",checkedValue:!1}]},{label:"配置",id:"3",attrList:[{label:"牛逼",pId:"3",id:"31",pName:"配置",checkedValue:!1},{label:"很牛逼",pId:"3",id:"32",pName:"配置",checkedValue:!1},{label:"非常牛逼",pId:"3",id:"33",pName:"配置",checkedValue:!1}]},{label:"测试",id:"4",attrList:[{label:"你好",pId:"4",id:"41",pName:"测试",checkedValue:!1},{label:"我好",pId:"4",id:"42",pName:"测试",checkedValue:!1},{label:"大家好",pId:"4",id:"43",pName:"测试",checkedValue:!1},{label:"你不好",pId:"4",id:"44",pName:"测试",checkedValue:!1},{label:"我不好",pId:"4",id:"45",pName:"测试",checkedValue:!1},{label:"大家都不好",pId:"4",id:"46",pName:"测试",checkedValue:!1}]}]}},methods:{removeSku:function(e,t){this.skuList.splice(t,1);var i=e.attrList[0].id,s="";e.attrList.length>1&&(s=e.attrList[1].id);var a=!0,l=!0;if(this.skuList.map(function(e,t){e.attrList.map(function(e,t){e.id==i&&(a=!1),e.id==s&&(l=!1)})}),a){this.saleAttrList.map(function(t,s){e.attrList.map(function(e,t){e.id==i&&(e.checkedValue=!1)})});var r=-1;this.descartesArr1.map(function(e,t){e.id!=i&&e.id!=s||(r=t)}),-1!=r&&this.descartesArr1.splice(r,1)}if(l){this.saleAttrList.map(function(t,i){e.attrList.map(function(e,t){e.id==s&&(e.checkedValue=!1)})});var n=-1;this.descartesArr2.map(function(e,t){e.id!=i&&e.id!=s||(n=t)}),-1!=n&&this.descartesArr2.splice(n,1)}this.skuList.length<1&&(this.skuTitle.splice(1,1),this.skuTitle.splice(0,1))},checkAttr:function(e){var t=[];if(e.checkedValue){if(this.descartesArr1.length>0&&this.descartesArr2.length>0&&this.descartesArr1[0].pId!=e.pId&&this.descartesArr2[0].pId!=e.pId)return e.checkedValue=!1,this.$message({type:"warning",message:"最多选择两个属性"}),!1;if(this.descartesArr1.length<1?this.descartesArr1.unshift(e):this.descartesArr1[0].pId==e.pId?this.descartesArr1.unshift(e):this.descartesArr2.unshift(e),5==this.skuTitle.length&&this.descartesArr1.length>0)this.skuTitle.unshift(this.descartesArr1[0]);else if(6==this.skuTitle.length&&this.descartesArr2.length>0){this.skuTitle.unshift(this.descartesArr2[0]);var i=this.skuTitle[0];this.skuTitle[0]=this.skuTitle[1],this.skuTitle[1]=i}}else{var s=-1;this.descartesArr1.map(function(t,i){t.id==e.id&&(s=i)}),-1!=s&&this.descartesArr1.splice(s,1);var a=-1;if(this.descartesArr2.map(function(t,i){t.id==e.id&&(a=i)}),-1!=a&&this.descartesArr2.splice(a,1),this.descartesArr1.length<1||this.descartesArr2.length<1){var l=-1;this.skuTitle.map(function(t,i){t.id==e.id&&(l=i)}),6!=this.skuTitle.length?-1!=l&&this.skuTitle.splice(l,1):this.descartesArr1.length<1&&this.descartesArr2.length<1&&-1!=l&&this.skuTitle.splice(l,1)}}var r=[this.descartesArr1,this.descartesArr2];if((t=this.calcDescartes(r)).length>0){var n=[];t[0].id?t.length>1?t.map(function(e,t){n.push({imgUrl:"",originalPrice:"",price:"",skuNumber:""}),n[t].attrList=[],n[t].attrList.push(e)}):n.push({attrList:t,imgUrl:"",originalPrice:"",price:"",skuNumber:""}):t.map(function(e,t){n.push({attrList:e,imgUrl:"",originalPrice:"",price:"",skuNumber:""})}),this.skuList=n}else this.skuList=[]},calcDescartes:function(e){return e.length<2&&e[1].length<1&&e[0].length<1?e[0]:e[1].length<1?e[0]:e[0].length<1?e[1]:[].reduce.call(e,function(e,t){var i=[];return e.forEach(function(e){t.forEach(function(t){var s=[].concat(Array.isArray(e)?e:[e]);s.push(t),i.push(s)})}),i})}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"details-main"},[i("div",{staticClass:"details-main-product"},[i("div",{staticClass:"product-title"},[e._v("销售属性")]),e._v(" "),i("div",{staticClass:"product-main"},[e._l(e.saleAttrList,function(t){return e.saleAttrList.length>0?i("div",{staticClass:"sale-attr"},[i("label",[e._v(e._s(t.label)+":")]),e._v(" "),e._l(t.attrList,function(t){return i("el-checkbox",{key:t.id,on:{change:function(i){e.checkAttr(t)}},model:{value:t.checkedValue,callback:function(i){e.$set(t,"checkedValue",i)},expression:"info.checkedValue"}},[e._v(e._s(t.label)+"\n        ")])})],2):e._e()}),e._v(" "),e.saleAttrList.length<1?i("div",{staticStyle:{color:"red","text-align":"center",padding:"10px 0"}},[e._v("\n        该分类下暂无销售属性，请先为该分类添加销售属性。\n      ")]):e._e()],2)]),e._v(" "),i("div",{staticClass:"details-main-product"},[i("div",{staticClass:"product-title"},[e._v("SKU定义")]),e._v(" "),i("div",{staticClass:"product-main"},[i("div",[e.skuList.length>0?i("ul",{staticStyle:{border:"1px solid #f4f4f5","border-bottom":"none"}},[i("li",{staticClass:"sku-title"},e._l(e.skuTitle,function(t,s){return i("span",{key:s},[e._v(e._s(t.pName))])})),e._v(" "),e._l(e.skuList,function(t,s){return i("li",{key:s,staticClass:"sku-table"},[e._l(t.attrList,function(t,s){return i("div",{key:s,staticClass:"input-wrap"},[i("el-input",{attrs:{type:"text",size:"small",disabled:"",placeholder:"请输入..."},model:{value:t.label,callback:function(i){e.$set(t,"label",i)},expression:"info.label"}})],1)}),e._v(" "),i("div",{staticClass:"input-wrap"},[i("upload-img",{ref:"skuImgList",refInFor:!0,staticClass:"sku-img",attrs:{"image-count":1,size:"mini"}})],1),e._v(" "),i("div",{staticClass:"input-wrap"},[i("el-input",{attrs:{type:"number",size:"small",placeholder:"请输入..."},model:{value:t.originalPrice,callback:function(i){e.$set(t,"originalPrice",i)},expression:"item.originalPrice"}})],1),e._v(" "),i("div",{staticClass:"input-wrap"},[i("el-input",{attrs:{type:"number",size:"small",placeholder:"请输入..."},model:{value:t.price,callback:function(i){e.$set(t,"price",i)},expression:"item.price"}})],1),e._v(" "),i("div",{staticClass:"input-wrap"},[i("el-input",{attrs:{type:"text",size:"small",placeholder:"请输入..."},model:{value:t.skuNumber,callback:function(i){e.$set(t,"skuNumber",i)},expression:"item.skuNumber"}})],1),e._v(" "),i("div",{staticClass:"input-wrap"},[i("span",{staticStyle:{color:"blue",cursor:"pointer"},on:{click:function(i){e.removeSku(t,s)}}},[e._v("删除")])])],2)})],2):i("div",{staticStyle:{color:"red","text-align":"center",padding:"10px 0"}},[e._v("请选择完销售属性，再来填写sku定义。")])])])])])},staticRenderFns:[]};var u=i("VU/8")(c,d,!1,function(e){i("Uf66"),i("RCa9")},"data-v-1936441d",null).exports;s.default.use(r.a);var p=new r.a({routes:[{path:"/",name:"HelloWorld",component:u}]}),o=i("zL8q"),h=i.n(o);i("tvR6");s.default.config.productionTip=!1,s.default.use(h.a),new s.default({el:"#app",router:p,components:{App:l},render:function(e){return e(l)}}).$mount("#app")},RCa9:function(e,t){},Uf66:function(e,t){},nF9L:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.32f7c89a0c079d1f84c3.js.map